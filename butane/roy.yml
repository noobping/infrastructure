variant: fcos
version: 1.6.0

systemd:
  units:
    - name: system-flatpaks-roy.service
      enabled: true
      contents: |
        [Unit]
        Description=Install system Flatpaks
        Wants=network-online.target
        After=network-online.target
        ConditionPathExists=/var/lib/rebase.done
        ConditionPathExists=!/var/lib/system-flatpaks-roy.done

        [Service]
        Type=oneshot
        ExecStart=/usr/bin/flatpak remote-add --system --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
        ExecStart=/usr/bin/flatpak install --system --noninteractive flathub \
          com.github.PintaProject.Pinta \
          com.github.maoschanz.drawing \
          com.google.Chrome \
          com.valvesoftware.Steam \
          de.hummdudel.Libellus \
          io.bassi.Amberol \
          io.github.kriptolix.Poliedros \
          net.lugsole.bible_gui \
          org.cvfosammmm.Setzer \
          org.freecad.FreeCAD \
          org.gnome.Chess \
          org.gnome.Decibels \
          org.gnome.Geary \
          org.gnome.Mahjongg \
          org.gnome.Maps \
          org.gnome.Mines \
          org.gnome.baobab \
          org.libreoffice.LibreOffice \
          org.mozilla.firefox \
          se.sjoerd.Graphs
        ExecStart=/usr/bin/touch /var/lib/system-flatpaks-roy.done

        [Install]
        WantedBy=multi-user.target
